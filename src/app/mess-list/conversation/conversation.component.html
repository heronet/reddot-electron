
<mat-spinner [diameter]="50" style="margin: 10px auto;" *ngIf="!messages"></mat-spinner>
<div class="container" *ngIf="messages">
    <mat-card style="padding: 5px 10px ;padding-top: 10px; color: rgba(240, 248, 255, 0.836); background-color: rgba(11, 66, 61, 0.747);">
        <mat-card-header >
            <img src="./assets/avatar.png" mat-card-avatar alt="">
            <mat-card-title>{{recipientName}}</mat-card-title>
            <mat-card-subtitle style="margin-bottom: 5px; color: rgba(240, 248, 255, 0.918);">Last active: 6:54 PM</mat-card-subtitle>
        </mat-card-header>
    </mat-card>
    <div class="bubble" *ngFor="let message of messages" [style]="(message.sender.username === currentUserName) ? 'justify-content: flex-end;': ''">
        <mat-card [class]="(message.sender.username === currentUserName) ? 'sent': 'received'">
            {{message.text}}
            <mat-card-subtitle><span style="font-size: 10px;">{{message.createdAt | date: 'short'}}</span></mat-card-subtitle>
        </mat-card>
    </div>
    <div style="margin-bottom: 45px;">
        <span></span>
    </div>
    <div class="footer">
        <form id="form" action="" #f="ngForm" (ngSubmit)="sendMessage(f)">
            <input id="input" autocomplete="off"  name="text"  ngModel/>
            <button type="submit" [disabled]="!f.dirty">Send</button>
        </form>
    </div>
</div>